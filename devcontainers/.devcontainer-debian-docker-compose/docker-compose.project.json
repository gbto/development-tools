version: "3.8"
services:
    postgres:
      image: postgres
      container_name: postgres-db
      ports:
        - 127.0.0.1:5432:5432
      environment:
        - POSTGRES_USER=${PGUSER:-postgres}
        - POSTGRES_PASSWORD=${PGPASSWORD:-yearn-exporter}
        - POSTGRES_DB=${PGDATABASE:-postgres}
      networks:
        - yearn-exporter
      volumes:
        - postgres_data:/var/lib/postgresql/data
      restart: always

volumes:
  brownie: {}
  cache: {}
  postgres_data: {}

networks:
  yearn-exporter:

x-common-postgres-envs: &common-postgres-envs
  - PGHOST: postgres
  - PGDATABASE: postgres
  - PGUSER: postgres
  - PGPASSWORD: yearn-exporter
